---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import HeaderImg from '@images/homepage_hero_img.png';
import HeadlessWPImg from '@images/Headless_WP_iMac.png';
// @ts-ignore
import Button from '@components/buttons/Button.svelte';
// @ts-ignore
import MultiStepDialog from '@components/forms/project-form/MultiStepDialog.svelte';
// @ts-ignore
import BenefitCard from '@/components/cards/BenefitCard.svelte';
// @ts-ignore
import PortfolioRow from '@components/sections/PortfolioRow.svelte'
// @ts-ignore
import ServicesTabs from '@components/sections/ServicesTabs.svelte';
// @ts-ignore
import ImgBackground from '@components/ImgBackground.svelte';
// @ts-ignore
import BlogCard from '@components/blog/BlogCard.svelte';
import { allBlogMeta } from '@/utils/blogs.ts';

const recentPosts = allBlogMeta.slice(0, 3);

const seo = {
	title: 'Homepage Title',
	description: 'Homepage description m8'
}
---

<Layout {seo}>
	<main>
    <header class="grid grid-cols-1 md:grid-cols-2 items-center gap-32 md:gap-14 py-20 md:py-16">
      <div class="grid gap-7">
        <h1 class="lg:text-[65px] text-center md:text-left">Grow Better <br />& Engage More</h1>
        <p class="text-center md:text-left">
          Reach your audience, convert more customers, and rank higher with the best website for you.
        </p>
        <MultiStepDialog flavor="glow" classes="justify-self-center md:justify-self-start" client:load>
          Let's Connect
        </MultiStepDialog>
      </div>
      <div class="relative grid justify-center md:justify-normal">
        <Image
          src={HeaderImg}
          width="400"
          alt="laptop and mobile phone mockup of modern website"
          class="relative z-[1]" 
          loading="eager" />
        <ImgBackground classes="absolute -z-0 -top-[90px] -right-[170px] w-[150%] h-[150%]" />
      </div>
    </header>
    <section id="benefitsRow" class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-[125px]">
      <BenefitCard 
        lottiePath="/lottie/BarChart_primary.json" 
        heading="Multiply your conversions"
        body="Using the best UX research and insights, we can turn your web dud in to a web stud."
        initialPlay 
        client:load />
      <BenefitCard 
        lottiePath="/lottie/Globe_tertiary.json"
        heading="Reach users faster"
        body="Our websites load faster than 99.9% of competitors. With our tech, your users donâ€™t have to wait long."
        delay={750} 
        initialPlay 
        client:load />
      <BenefitCard 
        lottiePath="/lottie/Server_secondary.json"
        heading="0% Downtime"
        body="In the last 3 years, our websites have a 0% downtime - never miss out on opportunities."
        delay={1500} 
        initialPlay 
        client:load />
    </section>
    <PortfolioRow client:load />
    <ServicesTabs client:load />
    <section
      class="rounded-2xl bg-body-color-secondary px-6 py-12 md:p-[60px_] grid grid-cols-1 lg:grid-cols-2 gap-4 items-center my-[125px]">
      <div class="relative flex justify-center lg:justify-start">
        <Image
          src={HeadlessWPImg}
          alt="iMac showing the WordPress dashboard"
          class="max-w-[400px] w-full z-10 relative"
          width="456"
          height="389"
          loading="lazy" />
        <ImgBackground
          classes="absolute -z-0 -top-[25%] -left-[25%] lg:-left-[40%] w-[160%] h-[160%]" />
      </div>
      <div class="mt-7 lg:mt-0">
        <p
          class="bg-tertiary/20 text-tertiary py-[5px] px-[14px] rounded-md inline-block text-base mb-2">
          UPDATE
        </p>
        <h2 class="mb-4">What does going headless mean?</h2>
        <p>
          Do you have a preferred content management system like WordPress, but you hate slow load
          times?
        </p>
        <p class="mt-4 mb-8">
          Have no fear! We can easily combine WordPress and our faster frontend technologies for
          ultimate convenience and optimal performance!
        </p>
        <Button type="link" link="/headless-wordpress" classes="px-[24px] py-[12px]" color="secondary">See More</Button>
      </div>
    </section>
    <section id="recentPosts">
      <h2 class="text-center">Recent Posts</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-12">
        {recentPosts.map(post => (
          <BlogCard blog={post}/>
        ))}
        </div>
    </section>
	</main>
</Layout>

